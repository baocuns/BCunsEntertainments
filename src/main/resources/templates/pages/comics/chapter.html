<!DOCTYPE html>
<html lang="vi" xmlns:th="http://www.thymeleaf.org">
<head
        th:replace="~{fragments/head :: head(
        title=${chapter.getComic().getTitle()} + ' - ' + ${chapter.getTitle()} + ' - BCENT',
        description=${chapter.getComic().getDescription()},
        keywords=${chapter.getComic().getTitle()} + ' - ' + ${chapter.getTitle()},
        url='https://bcent.online/comics/' + ${chapter.getComic().getTitle()} + '-' + ${chapter.getComic().getId()} + '/chapter/' + ${chapter.getId()},
        image=${chapter.getComic().getThumbnails()},
        site_name=${chapter.getComic().getTitle()}
        )}"
>
    <title>Chapter</title>
</head>
<body class="scrollbar-hidden bg-slate-100 dark:bg-slate-900">
<!-- header -->
<header th:replace="~{fragments/comics/navbar :: navbar}"></header>
<!-- Content Chapter Details: Photos -->
<section class="py-4 mt-20">
    <span id="info-chapter" th:data-chapter-id="${chapter.getId()}" th:data-comic-id="${chapter.getComic().getId()}" class="hidden">Chapter info</span>
    <span id="info-comic" th:data-comic-id="${chapter.getComic().getId()}" th:text="${chapter.getComic().getTitle()}" class="hidden">Comic info</span>
    <div class="mx-auto max-w-full py-4 md:max-w-2xl lg:max-w-3xl lg:px-4">
        <div class="flex justify-center picture" th:each="photo: ${chapter.getPhotos()}">
            <svg class="picture-load animate-spin -ml-1 mr-3 h-5 w-5 text-red-500 dark:text-green-500" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24">
                <circle class="opacity-25" cx="12" cy="12" r="10" stroke="currentColor" stroke-width="4"></circle>
                <path class="opacity-75" fill="currentColor" d="M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"></path>
            </svg>
            <img
                    th:if="${photo.getServer() != null}"
                    th:src="'https://picture.bcent.online/images?src=' + ${photo.getUrl()}"
                    th:alt="${photo.getTitle()}"
                    th:data-server="${photo.getServer()}"
                    data-index="0"
                    class="w-full h-auto object-cover"
                    loading="lazy"
            >
            <img
                    th:unless="${photo.getServer() != null}"
                    th:src="'https://picture.bcent.online/images?src=' + ${photo.getUrl()}"
                    th:alt="${photo.getTitle()}"
                    class="w-full h-auto object-cover"
                    loading="lazy"
            >
        </div>
    </div>
</section>
<!-- comment -->
<section th:replace="~{fragments/comments :: comments}"></section>
<!-- footer -->
<footer th:replace="~{fragments/footer :: footer}"></footer>
<!-- js -->
<script th:src="@{/js/comics/chapters.js}"></script>
</body>
</html>